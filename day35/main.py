from openweatherapi import get_weather_data
from twilioapi import text_weather


home = (44.043747, -122.951662)
raining = (12.608, -129.946)
home_data = {'lat': 44.0437, 'lon': -122.9517, 'timezone': 'America/Los_Angeles', 'timezone_offset': -28800, 'hourly': [{'dt': 1669003200, 'temp': 276.17, 'feels_like': 276.17, 'pressure': 997, 'humidity': 84, 'dew_point': 273.74, 'uvi': 0, 'clouds': 75, 'visibility': 10000, 'wind_speed': 1.04, 'wind_deg': 105, 'wind_gust': 0.94, 'weather': [{'id': 803, 'main': 'Clouds', 'description': 'broken clouds', 'icon': '04n'}], 'pop': 0}, {'dt': 1669006800, 'temp': 276.54, 'feels_like': 276.54, 'pressure': 1003, 'humidity': 81, 'dew_point': 273.59, 'uvi': 0, 'clouds': 76, 'visibility': 10000, 'wind_speed': 0.89, 'wind_deg': 103, 'wind_gust': 0.85, 'weather': [{'id': 803, 'main': 'Clouds', 'description': 'broken clouds', 'icon': '04n'}], 'pop': 0}, {'dt': 1669010400, 'temp': 276.81, 'feels_like': 276.81, 'pressure': 1009, 'humidity': 79, 'dew_point': 273.51, 'uvi': 0, 'clouds': 78, 'visibility': 10000, 'wind_speed': 1.06, 'wind_deg': 111, 'wind_gust': 0.91, 'weather': [{'id': 803, 'main': 'Clouds', 'description': 'broken clouds', 'icon': '04n'}], 'pop': 0}, {'dt': 1669014000, 'temp': 277.23, 'feels_like': 277.23, 'pressure': 1014, 'humidity': 76, 'dew_point': 273.39, 'uvi': 0, 'clouds': 89, 'visibility': 10000, 'wind_speed': 0.75, 'wind_deg': 115, 'wind_gust': 0.76, 'weather': [{'id': 804, 'main': 'Clouds', 'description': 'overcast clouds', 'icon': '04n'}], 'pop': 0}, {'dt': 1669017600, 'temp': 277.51, 'feels_like': 277.51, 'pressure': 1019, 'humidity': 74, 'dew_point': 273.29, 'uvi': 0, 'clouds': 94, 'visibility': 10000, 'wind_speed': 0.7, 'wind_deg': 96, 'wind_gust': 0.67, 'weather': [{'id': 804, 'main': 'Clouds', 'description': 'overcast clouds', 'icon': '04n'}], 'pop': 0}, {'dt': 1669021200, 'temp': 277.34, 'feels_like': 277.34, 'pressure': 1025, 'humidity': 73, 'dew_point': 272.34, 'uvi': 0, 'clouds': 97, 'visibility': 10000, 'wind_speed': 0.79, 'wind_deg': 95, 'wind_gust': 0.73, 'weather': [{'id': 804, 'main': 'Clouds', 'description': 'overcast clouds', 'icon': '04n'}], 'pop': 0}, {'dt': 1669024800, 'temp': 277.41, 'feels_like': 277.41, 'pressure': 1025, 'humidity': 71, 'dew_point': 272.16, 'uvi': 0, 'clouds': 95, 'visibility': 10000, 'wind_speed': 0.96, 'wind_deg': 100, 'wind_gust': 0.88, 'weather': [{'id': 804, 'main': 'Clouds', 'description': 'overcast clouds', 'icon': '04n'}], 'pop': 0}, {'dt': 1669028400, 'temp': 277.41, 'feels_like': 277.41, 'pressure': 1025, 'humidity': 71, 'dew_point': 271.95, 'uvi': 0, 'clouds': 95, 'visibility': 10000, 'wind_speed': 0.9, 'wind_deg': 100, 'wind_gust': 0.85, 'weather': [{'id': 804, 'main': 'Clouds', 'description': 'overcast clouds', 'icon': '04n'}], 'pop': 0}, {'dt': 1669032000, 'temp': 278.3, 'feels_like': 278.3, 'pressure': 1025, 'humidity': 67, 'dew_point': 272.04, 'uvi': 0, 'clouds': 95, 'visibility': 10000, 'wind_speed': 0.72, 'wind_deg': 97, 'wind_gust': 0.71, 'weather': [{'id': 804, 'main': 'Clouds', 'description': 'overcast clouds', 'icon': '04n'}], 'pop': 0}, {'dt': 1669035600, 'temp': 278.55, 'feels_like': 278.55, 'pressure': 1025, 'humidity': 66, 'dew_point': 272.08, 'uvi': 0, 'clouds': 94, 'visibility': 10000, 'wind_speed': 0.48, 'wind_deg': 101, 'wind_gust': 0.57, 'weather': [{'id': 804, 'main': 'Clouds', 'description': 'overcast clouds', 'icon': '04n'}], 'pop': 0}, {'dt': 1669039200, 'temp': 276.91, 'feels_like': 276.91, 'pressure': 1025, 'humidity': 72, 'dew_point': 271.67, 'uvi': 0, 'clouds': 78, 'visibility': 10000, 'wind_speed': 0.44, 'wind_deg': 98, 'wind_gust': 0.48, 'weather': [{'id': 803, 'main': 'Clouds', 'description': 'broken clouds', 'icon': '04n'}], 'pop': 0}, {'dt': 1669042800, 'temp': 277.42, 'feels_like': 277.42, 'pressure': 1025, 'humidity': 69, 'dew_point': 271.76, 'uvi': 0, 'clouds': 77, 'visibility': 10000, 'wind_speed': 0.63, 'wind_deg': 62, 'wind_gust': 0.75, 'weather': [{'id': 803, 'main': 'Clouds', 'description': 'broken clouds', 'icon': '04n'}], 'pop': 0}, {'dt': 1669046400, 'temp': 277.96, 'feels_like': 277.96, 'pressure': 1025, 'humidity': 68, 'dew_point': 271.99, 'uvi': 0, 'clouds': 81, 'visibility': 10000, 'wind_speed': 0.51, 'wind_deg': 104, 'wind_gust': 0.48, 'weather': [{'id': 803, 'main': 'Clouds', 'description': 'broken clouds', 'icon': '04d'}], 'pop': 0}, {'dt': 1669050000, 'temp': 280.29, 'feels_like': 280.29, 'pressure': 1025, 'humidity': 60, 'dew_point': 272.57, 'uvi': 0.36, 'clouds': 82, 'visibility': 10000, 'wind_speed': 0.29, 'wind_deg': 132, 'wind_gust': 0.61, 'weather': [{'id': 803, 'main': 'Clouds', 'description': 'broken clouds', 'icon': '04d'}], 'pop': 0}, {'dt': 1669053600, 'temp': 282.93, 'feels_like': 282.93, 'pressure': 1025, 'humidity': 51, 'dew_point': 272.81, 'uvi': 0.84, 'clouds': 74, 'visibility': 10000, 'wind_speed': 0.28, 'wind_deg': 339, 'wind_gust': 0.53, 'weather': [{'id': 803, 'main': 'Clouds', 'description': 'broken clouds', 'icon': '04d'}], 'pop': 0}, {'dt': 1669057200, 'temp': 284.86, 'feels_like': 283.29, 'pressure': 1024, 'humidity': 46, 'dew_point': 273.23, 'uvi': 1.32, 'clouds': 35, 'visibility': 10000, 'wind_speed': 0.68, 'wind_deg': 295, 'wind_gust': 0.39, 'weather': [{'id': 802, 'main': 'Clouds', 'description': 'scattered clouds', 'icon': '03d'}], 'pop': 0}, {'dt': 1669060800, 'temp': 285.25, 'feels_like': 283.74, 'pressure': 1024, 'humidity': 47, 'dew_point': 273.59, 'uvi': 1.55, 'clouds': 56, 'visibility': 10000, 'wind_speed': 1.16, 'wind_deg': 296, 'wind_gust': 0.7, 'weather': [{'id': 803, 'main': 'Clouds', 'description': 'broken clouds', 'icon': '04d'}], 'pop': 0}, {'dt': 1669064400, 'temp': 285.25, 'feels_like': 283.77, 'pressure': 1023, 'humidity': 48, 'dew_point': 274.15, 'uvi': 1.46, 'clouds': 68, 'visibility': 10000, 'wind_speed': 0.81, 'wind_deg': 312, 'wind_gust': 0.42, 'weather': [{'id': 803, 'main': 'Clouds', 'description': 'broken clouds', 'icon': '04d'}], 'pop': 0}, {'dt': 1669068000, 'temp': 285.44, 'feels_like': 284.03, 'pressure': 1023, 'humidity': 50, 'dew_point': 274.7, 'uvi': 1.04, 'clouds': 72, 'visibility': 10000, 'wind_speed': 1.11, 'wind_deg': 299, 'wind_gust': 0.78, 'weather': [{'id': 803, 'main': 'Clouds', 'description': 'broken clouds', 'icon': '04d'}], 'pop': 0}, {'dt': 1669071600, 'temp': 284.53, 'feels_like': 283.21, 'pressure': 1023, 'humidity': 57, 'dew_point': 275.93, 'uvi': 0.53, 'clouds': 76, 'visibility': 10000, 'wind_speed': 1.16, 'wind_deg': 299, 'wind_gust': 1.61, 'weather': [{'id': 803, 'main': 'Clouds', 'description': 'broken clouds', 'icon': '04d'}], 'pop': 0}, {'dt': 1669075200, 'temp': 282.93, 'feels_like': 282.93, 'pressure': 1023, 'humidity': 64, 'dew_point': 275.91, 'uvi': 0.16, 'clouds': 80, 'visibility': 10000, 'wind_speed': 0.05, 'wind_deg': 105, 'wind_gust': 0.4, 'weather': [{'id': 803, 'main': 'Clouds', 'description': 'broken clouds', 'icon': '04d'}], 'pop': 0}, {'dt': 1669078800, 'temp': 281.83, 'feels_like': 281.83, 'pressure': 1023, 'humidity': 66, 'dew_point': 275.26, 'uvi': 0, 'clouds': 93, 'visibility': 10000, 'wind_speed': 0.62, 'wind_deg': 108, 'wind_gust': 0.62, 'weather': [{'id': 804, 'main': 'Clouds', 'description': 'overcast clouds', 'icon': '04n'}], 'pop': 0}, {'dt': 1669082400, 'temp': 280.75, 'feels_like': 280.75, 'pressure': 1024, 'humidity': 69, 'dew_point': 274.91, 'uvi': 0, 'clouds': 79, 'visibility': 10000, 'wind_speed': 0.08, 'wind_deg': 105, 'wind_gust': 0.31, 'weather': [{'id': 803, 'main': 'Clouds', 'description': 'broken clouds', 'icon': '04n'}], 'pop': 0}, {'dt': 1669086000, 'temp': 280.73, 'feels_like': 280.73, 'pressure': 1024, 'humidity': 69, 'dew_point': 274.85, 'uvi': 0, 'clouds': 74, 'visibility': 10000, 'wind_speed': 1.2, 'wind_deg': 133, 'wind_gust': 1.11, 'weather': [{'id': 803, 'main': 'Clouds', 'description': 'broken clouds', 'icon': '04n'}], 'pop': 0}, {'dt': 1669089600, 'temp': 279.1, 'feels_like': 279.1, 'pressure': 1024, 'humidity': 75, 'dew_point': 274.41, 'uvi': 0, 'clouds': 67, 'visibility': 10000, 'wind_speed': 1.01, 'wind_deg': 122, 'wind_gust': 0.96, 'weather': [{'id': 803, 'main': 'Clouds', 'description': 'broken clouds', 'icon': '04n'}], 'pop': 0}, {'dt': 1669093200, 'temp': 278.74, 'feels_like': 278.74, 'pressure': 1024, 'humidity': 75, 'dew_point': 274.2, 'uvi': 0, 'clouds': 68, 'visibility': 10000, 'wind_speed': 0.86, 'wind_deg': 126, 'wind_gust': 0.82, 'weather': [{'id': 803, 'main': 'Clouds', 'description': 'broken clouds', 'icon': '04n'}], 'pop': 0}, {'dt': 1669096800, 'temp': 278.7, 'feels_like': 277.88, 'pressure': 1023, 'humidity': 75, 'dew_point': 274.07, 'uvi': 0, 'clouds': 73, 'visibility': 10000, 'wind_speed': 1.38, 'wind_deg': 126, 'wind_gust': 1.28, 'weather': [{'id': 803, 'main': 'Clouds', 'description': 'broken clouds', 'icon': '04n'}], 'pop': 0}, {'dt': 1669100400, 'temp': 278.59, 'feels_like': 277.79, 'pressure': 1023, 'humidity': 75, 'dew_point': 273.97, 'uvi': 0, 'clouds': 80, 'visibility': 10000, 'wind_speed': 1.36, 'wind_deg': 125, 'wind_gust': 1.26, 'weather': [{'id': 803, 'main': 'Clouds', 'description': 'broken clouds', 'icon': '04n'}], 'pop': 0}, {'dt': 1669104000, 'temp': 278.39, 'feels_like': 278.39, 'pressure': 1023, 'humidity': 75, 'dew_point': 273.81, 'uvi': 0, 'clouds': 89, 'visibility': 10000, 'wind_speed': 1.26, 'wind_deg': 118, 'wind_gust': 1.12, 'weather': [{'id': 804, 'main': 'Clouds', 'description': 'overcast clouds', 'icon': '04n'}], 'pop': 0}, {'dt': 1669107600, 'temp': 278.13, 'feels_like': 277.1, 'pressure': 1023, 'humidity': 76, 'dew_point': 273.69, 'uvi': 0, 'clouds': 70, 'visibility': 10000, 'wind_speed': 1.48, 'wind_deg': 123, 'wind_gust': 1.3, 'weather': [{'id': 803, 'main': 'Clouds', 'description': 'broken clouds', 'icon': '04n'}], 'pop': 0}, {'dt': 1669111200, 'temp': 278.05, 'feels_like': 276.67, 'pressure': 1023, 'humidity': 76, 'dew_point': 273.72, 'uvi': 0, 'clouds': 60, 'visibility': 10000, 'wind_speed': 1.75, 'wind_deg': 128, 'wind_gust': 1.49, 'weather': [{'id': 803, 'main': 'Clouds', 'description': 'broken clouds', 'icon': '04n'}], 'pop': 0}, {'dt': 1669114800, 'temp': 278.1, 'feels_like': 278.1, 'pressure': 1022, 'humidity': 76, 'dew_point': 273.77, 'uvi': 0, 'clouds': 68, 'visibility': 10000, 'wind_speed': 1.23, 'wind_deg': 131, 'wind_gust': 1.24, 'weather': [{'id': 803, 'main': 'Clouds', 'description': 'broken clouds', 'icon': '04n'}], 'pop': 0}, {'dt': 1669118400, 'temp': 278.32, 'feels_like': 278.32, 'pressure': 1022, 'humidity': 75, 'dew_point': 273.82, 'uvi': 0, 'clouds': 73, 'visibility': 10000, 'wind_speed': 1.32, 'wind_deg': 129, 'wind_gust': 1.22, 'weather': [{'id': 803, 'main': 'Clouds', 'description': 'broken clouds', 'icon': '04n'}], 'pop': 0}, {'dt': 1669122000, 'temp': 278.97, 'feels_like': 278.03, 'pressure': 1021, 'humidity': 73, 'dew_point': 274.05, 'uvi': 0, 'clouds': 100, 'visibility': 10000, 'wind_speed': 1.5, 'wind_deg': 133, 'wind_gust': 1.4, 'weather': [{'id': 804, 'main': 'Clouds', 'description': 'overcast clouds', 'icon': '04n'}], 'pop': 0}, {'dt': 1669125600, 'temp': 279.62, 'feels_like': 278.55, 'pressure': 1021, 'humidity': 71, 'dew_point': 274.3, 'uvi': 0, 'clouds': 100, 'visibility': 10000, 'wind_speed': 1.69, 'wind_deg': 133, 'wind_gust': 1.57, 'weather': [{'id': 804, 'main': 'Clouds', 'description': 'overcast clouds', 'icon': '04n'}], 'pop': 0}, {'dt': 1669129200, 'temp': 280.25, 'feels_like': 279.41, 'pressure': 1021, 'humidity': 70, 'dew_point': 274.59, 'uvi': 0, 'clouds': 100, 'visibility': 10000, 'wind_speed': 1.57, 'wind_deg': 144, 'wind_gust': 1.47, 'weather': [{'id': 804, 'main': 'Clouds', 'description': 'overcast clouds', 'icon': '04n'}], 'pop': 0}, {'dt': 1669132800, 'temp': 280.62, 'feels_like': 279.89, 'pressure': 1020, 'humidity': 70, 'dew_point': 274.89, 'uvi': 0, 'clouds': 100, 'visibility': 10000, 'wind_speed': 1.52, 'wind_deg': 149, 'wind_gust': 1.56, 'weather': [{'id': 804, 'main': 'Clouds', 'description': 'overcast clouds', 'icon': '04d'}], 'pop': 0}, {'dt': 1669136400, 'temp': 282.37, 'feels_like': 281.88, 'pressure': 1020, 'humidity': 66, 'dew_point': 275.91, 'uvi': 0.23, 'clouds': 100, 'visibility': 10000, 'wind_speed': 1.53, 'wind_deg': 149, 'wind_gust': 2.86, 'weather': [{'id': 804, 'main': 'Clouds', 'description': 'overcast clouds', 'icon': '04d'}], 'pop': 0}, {'dt': 1669140000, 'temp': 284.38, 'feels_like': 283.1, 'pressure': 1020, 'humidity': 59, 'dew_point': 276.22, 'uvi': 0.53, 'clouds': 100, 'visibility': 10000, 'wind_speed': 1.5, 'wind_deg': 165, 'wind_gust': 3.01, 'weather': [{'id': 804, 'main': 'Clouds', 'description': 'overcast clouds', 'icon': '04d'}], 'pop': 0}, {'dt': 1669143600, 'temp': 285.3, 'feels_like': 284.14, 'pressure': 1020, 'humidity': 60, 'dew_point': 277.11, 'uvi': 0.77, 'clouds': 100, 'visibility': 10000, 'wind_speed': 1.45, 'wind_deg': 186, 'wind_gust': 3.87, 'weather': [{'id': 804, 'main': 'Clouds', 'description': 'overcast clouds', 'icon': '04d'}], 'pop': 0.29}, {'dt': 1669147200, 'temp': 285.05, 'feels_like': 284.05, 'pressure': 1018, 'humidity': 67, 'dew_point': 278.69, 'uvi': 0.91, 'clouds': 100, 'visibility': 10000, 'wind_speed': 1.36, 'wind_deg': 152, 'wind_gust': 4.98, 'weather': [{'id': 804, 'main': 'Clouds', 'description': 'overcast clouds', 'icon': '04d'}], 'pop': 0.31}, {'dt': 1669150800, 'temp': 285.15, 'feels_like': 284.18, 'pressure': 1018, 'humidity': 68, 'dew_point': 278.85, 'uvi': 0.84, 'clouds': 100, 'visibility': 10000, 'wind_speed': 1.38, 'wind_deg': 210, 'wind_gust': 3.05, 'weather': [{'id': 804, 'main': 'Clouds', 'description': 'overcast clouds', 'icon': '04d'}], 'pop': 0.27}, {'dt': 1669154400, 'temp': 283.91, 'feels_like': 282.87, 'pressure': 1018, 'humidity': 70, 'dew_point': 278.19, 'uvi': 0.31, 'clouds': 100, 'visibility': 10000, 'wind_speed': 1.9, 'wind_deg': 212, 'wind_gust': 4.21, 'weather': [{'id': 804, 'main': 'Clouds', 'description': 'overcast clouds', 'icon': '04d'}], 'pop': 0.23}, {'dt': 1669158000, 'temp': 283.66, 'feels_like': 282.57, 'pressure': 1018, 'humidity': 69, 'dew_point': 277.63, 'uvi': 0.16, 'clouds': 100, 'visibility': 10000, 'wind_speed': 2.12, 'wind_deg': 195, 'wind_gust': 4.98, 'weather': [{'id': 804, 'main': 'Clouds', 'description': 'overcast clouds', 'icon': '04d'}], 'pop': 0.26}, {'dt': 1669161600, 'temp': 283.62, 'feels_like': 282.58, 'pressure': 1018, 'humidity': 71, 'dew_point': 278.03, 'uvi': 0.05, 'clouds': 100, 'visibility': 10000, 'wind_speed': 2.32, 'wind_deg': 191, 'wind_gust': 8.55, 'weather': [{'id': 804, 'main': 'Clouds', 'description': 'overcast clouds', 'icon': '04d'}], 'pop': 0.31}, {'dt': 1669165200, 'temp': 283.17, 'feels_like': 282.47, 'pressure': 1019, 'humidity': 86, 'dew_point': 280.38, 'uvi': 0, 'clouds': 100, 'visibility': 10000, 'wind_speed': 2.24, 'wind_deg': 205, 'wind_gust': 7.11, 'weather': [{'id': 500, 'main': 'Rain', 'description': 'light rain', 'icon': '10n'}], 'pop': 0.91, 'rain': {'1h': 0.45}}, {'dt': 1669168800, 'temp': 283.22, 'feels_like': 282.71, 'pressure': 1020, 'humidity': 93, 'dew_point': 281.63, 'uvi': 0, 'clouds': 100, 'visibility': 10000, 'wind_speed': 1.92, 'wind_deg': 217, 'wind_gust': 5.65, 'weather': [{'id': 500, 'main': 'Rain', 'description': 'light rain', 'icon': '10n'}], 'pop': 0.93, 'rain': {'1h': 0.57}}, {'dt': 1669172400, 'temp': 283.37, 'feels_like': 282.9, 'pressure': 1021, 'humidity': 94, 'dew_point': 281.95, 'uvi': 0, 'clouds': 100, 'visibility': 10000, 'wind_speed': 1.62, 'wind_deg': 215, 'wind_gust': 4.46, 'weather': [{'id': 500, 'main': 'Rain', 'description': 'light rain', 'icon': '10n'}], 'pop': 0.9, 'rain': {'1h': 0.23}}], 'alerts': [{'sender_name': 'NWS Portland (Northwest Oregon and Southwest Washington)', 'event': 'Air Stagnation Advisory', 'start': 1668981000, 'end': 1669132800, 'description': '...AIR STAGNATION ADVISORY NOW IN EFFECT UNTIL 8 AM PST TUESDAY...\n* WHAT...A period of stagnant air with light winds is expected.\n* WHERE...Central Coast Range of Western Oregon, South\nWillamette Valley, Northern Oregon Cascade Foothills and\nCascade Foothills in Lane County.\n* WHEN...Until 8 AM PST Tuesday.\n* IMPACTS...Air stagnation could result in the development and\npersistence of poor air quality.', 'tags': ['Air quality']}]}
home_data = get_weather_data(raining)
will_rain = False

for hour in home_data['hourly'][:12]:
    for condition in hour['weather']:
        if condition['id'] < 700:
            will_rain = True

text_weather(will_rain)

# if will_rain:
#     print('rain')
# else:
#     print("clear")